<!DOCTYPE html>
<html>
<head>
    <title>Results</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', {packages: ['corechart', 'bar']});
        google.charts.setOnLoadCallback(drawBasic);

        function drawBasic() {
            var data = google.visualization.arrayToDataTable([
                ['Property', 'Value',],
                ['Hue', {{ hue }}],
                ['Saturation', {{ saturation }}],
                ['Contrast', {{ contrast }}],
                ['Brightness', {{ brightness }}]
            ]);

            var options = {
                title: 'Image Properties',
                hAxis: {
                    title: 'Property',
                },
                vAxis: {
                    title: 'Value'
                }
            };

            var chart = new google.visualization.ColumnChart(
                document.getElementById('chart_div')
            );

            chart.draw(data, options);
        }
    </script>
</head>
<body>
    <h2>Image Analysis Results</h2>

    <h3>Image Properties</h3>
    <table>
        <tbody>
            <tr>
            <td>Hue:</td>
            <td> {{ hue }}</td></tr>
            <tr>
            <td>Saturation:</td>
            <td> {{ saturation }}</td></tr>
            <tr>
            <td>Contrast:</td>
            <td> {{ contrast }}</td></tr>
            <tr>
            <td>Brightness:</td>
            <td> {{ brightness }}</td></tr>
            <tr>
            <td>Darkness:</td>
            <td> {{ darkness }}</td></tr>
            <tr>
            <td>Detected Font:</td>
            <td> {{ detected_font }} </td></tr>
        </tbody>
    </table>
    <h3>Image Properties Visualization</h3>
    <div id="chart_div" style="width: 600px; height: 400px; text-align: centre;"></div>

    <h3>Spellcheck and Grammar Errors</h3>
    <ul>
        {% for word in misspelled %}
        <li>Mispelled: {{ word }}</li>
        {% endfor %}
        <h3> ERRORS AND SUGGESTIONS</h3>
        {% for error in grammar_errors %}
        
        <li>Error: {{ error }}</li>
        {% endfor %}
    </ul>

    <h3>Font Sizes and Text</h3>
    <table>
        <thead>
            <tr>
                <th>Text</th>
                <th>Font Size</th>
            </tr>
        </thead>
        <tbody>
            {% for text, size in text_data %}
            <tr>
                <td>{{ text }}</td>
                <td>{{ size }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{{ url_for('index') }}">Back to Upload</a>
</body>
</html>
